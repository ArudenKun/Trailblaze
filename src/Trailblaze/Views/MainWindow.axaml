<suki:SukiWindow
    x:Class="Trailblaze.Views.MainWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:suki="https://github.com/kikipoulet/SukiUI"
    xmlns:vm="using:Trailblaze.ViewModels"
    Title="Trailblaze"
    d:DesignHeight="450"
    d:DesignWidth="800"
    x:DataType="vm:MainWindowViewModel"
    BackgroundAnimationEnabled="{Binding AppSettings.BackgroundAnimations}"
    BackgroundStyle="{Binding AppSettings.BackgroundStyle}"
    BackgroundTransitionsEnabled="{Binding AppSettings.BackgroundTransitions}"
    Icon="/Assets/avalonia-logo.ico"
    WindowStartupLocation="CenterScreen"
    WindowState="{Binding AppSettings.LastWindowState}"
    mc:Ignorable="d">

    <suki:SukiWindow.LogoContent>
        <Image
            Width="20"
            Height="20"
            Source="/Assets/avalonia-logo.ico" />
    </suki:SukiWindow.LogoContent>

    <suki:SukiWindow.Hosts>
        <suki:SukiToastHost Manager="{Binding ToastManager}" />
        <suki:SukiDialogHost Manager="{Binding DialogManager}" />
    </suki:SukiWindow.Hosts>

    <suki:SukiWindow.RightWindowTitleBarControls>
        <!--  ReSharper disable once Xaml.StyleClassNotFound  -->
        <Button Classes="WindowControlsButton">
            <LucideIcon Foreground="{DynamicResource SukiText}" Kind="Settings" />
            <Button.Flyout>
                <Flyout>
                    <Panel>
                        <Border
                            Margin="20"
                            BoxShadow="{DynamicResource SukiPopupShadow}"
                            CornerRadius="20" />
                        <Border
                            MinWidth="350"
                            Margin="20"
                            Background="{DynamicResource SukiCardBackground}"
                            BorderBrush="{DynamicResource SukiLightBorderBrush}"
                            BorderThickness="1"
                            ClipToBounds="True"
                            CornerRadius="15">
                            <Border Padding="15" Background="{DynamicResource PopupGradientBrush}">
                                <StackPanel Margin="0,0,0,0" Spacing="20">
                                    <Grid ColumnDefinitions="*,20,*">
                                        <suki:GlassCard Padding="15" CornerRadius="15">
                                            <DockPanel>
                                                <Border
                                                    Width="35"
                                                    Height="35"
                                                    Padding="0"
                                                    Background="{DynamicResource SukiPrimaryColor}"
                                                    CornerRadius="100">
                                                    <LucideIcon
                                                        Width="20"
                                                        Height="20"
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Foreground="White"
                                                        Kind="Wifi" />
                                                </Border>

                                                <TextBlock
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    FontSize="15"
                                                    FontWeight="DemiBold"
                                                    Text="Wifi" />
                                            </DockPanel>
                                        </suki:GlassCard>
                                        <suki:GlassCard
                                            Grid.Column="2"
                                            Padding="15"
                                            CornerRadius="15">
                                            <DockPanel>
                                                <suki:GlassCard
                                                    Width="35"
                                                    Height="35"
                                                    Padding="0"
                                                    CornerRadius="100">
                                                    <LucideIcon
                                                        Width="20"
                                                        Height="20"
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Foreground="{DynamicResource SukiText}"
                                                        Kind="Bluetooth" />
                                                </suki:GlassCard>

                                                <TextBlock
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    FontSize="14"
                                                    FontWeight="DemiBold"
                                                    Text="Bluetooth" />
                                            </DockPanel>
                                        </suki:GlassCard>
                                    </Grid>
                                    <suki:GlassCard Padding="15" CornerRadius="15">
                                        <DockPanel>
                                            <TextBlock
                                                Margin="0,0,0,10"
                                                VerticalAlignment="Center"
                                                DockPanel.Dock="Top"
                                                FontSize="15"
                                                FontWeight="DemiBold"
                                                Text="Volume" />
                                            <LucideIcon
                                                DockPanel.Dock="Left"
                                                Foreground="{DynamicResource SukiLowText}"
                                                Kind="Volume1" />
                                            <LucideIcon
                                                DockPanel.Dock="Right"
                                                Foreground="{DynamicResource SukiLowText}"
                                                Kind="Volume2" />
                                            <Slider MinWidth="100" Value="50" />
                                        </DockPanel>
                                    </suki:GlassCard>
                                    <suki:GlassCard Padding="15" CornerRadius="15">
                                        <DockPanel>
                                            <ToggleSwitch
                                                VerticalAlignment="Center"
                                                DockPanel.Dock="Right"
                                                IsChecked="True" />
                                            <TextBlock
                                                Margin="0,8,0,0"
                                                VerticalAlignment="Center"
                                                DockPanel.Dock="Bottom"
                                                Foreground="{DynamicResource SukiLowText}"
                                                Text="Disable notifications." />
                                            <TextBlock
                                                VerticalAlignment="Center"
                                                FontSize="15"
                                                FontWeight="DemiBold"
                                                Text="Mute" />
                                        </DockPanel>
                                    </suki:GlassCard>
                                </StackPanel>
                            </Border>
                        </Border>
                    </Panel>
                </Flyout>
            </Button.Flyout>
        </Button>
    </suki:SukiWindow.RightWindowTitleBarControls>

    <suki:SukiSideMenu
        IsMenuExpanded="{Binding AppSettings.IsSideMenuExpanded}"
        IsSearchEnabled="False"
        ItemsSource="{Binding Pages}"
        SelectedItem="{Binding ActivePage}">

        <suki:SukiSideMenu.Styles>
            <Style Selector="Image.AppIcon">
                <Setter Property="Transitions">
                    <Transitions>
                        <DoubleTransition Property="Opacity" Duration="0.1" />
                    </Transitions>
                </Setter>
                <Style Selector="^:pointerover">
                    <Setter Property="Opacity" Value="0.5" />
                </Style>
            </Style>
        </suki:SukiSideMenu.Styles>

        <suki:SukiSideMenu.ItemTemplate>
            <DataTemplate>
                <!--  ReSharper disable once Xaml.StyleClassNotFound  -->
                <suki:SukiSideMenuItem
                    Classes="Compact"
                    Header="{Binding DisplayName}"
                    IsVisible="{Binding IsVisibleOnSideMenu}"
                    ToolTip.ShowDelay="1000"
                    ToolTip.Tip="{Binding DisplayName}">
                    <suki:SukiSideMenuItem.Icon>
                        <LucideIcon Kind="{Binding Icon}" />
                    </suki:SukiSideMenuItem.Icon>
                </suki:SukiSideMenuItem>
            </DataTemplate>
        </suki:SukiSideMenu.ItemTemplate>

        <!-- <suki:SukiSideMenu.FooterContent> -->
        <!--  <StackPanel  -->
        <!--  HorizontalAlignment="Center"  -->
        <!--  Orientation="Horizontal"  -->
        <!--  Spacing="5">  -->
        <!--    -->
        <!--  ~1~  ReSharper disable once Xaml.StyleClassNotFound  @1@  -->
        <!--  <Button  -->
        <!--  Classes="Icon"  -->
        <!--  Command="{Binding ShowSettingsCommand}"  -->
        <!--  Content="{LucideIconContent Kind=Cog,  -->
        <!--  Size=25}" />  -->
        <!--    -->
        <!--     </StackPanel> -->
        <!-- </suki:SukiSideMenu.FooterContent> -->
    </suki:SukiSideMenu>

</suki:SukiWindow>